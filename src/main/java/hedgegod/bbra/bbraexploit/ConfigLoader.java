package hedgegod.bbra.bbraexploit;

import hedgegod.bbra.bbraexploit.utils.ChatUtils;
import hedgegod.bbra.bbraexploit.utils.ConfigManager;
import net.minecraftforge.client.event.RenderGameOverlayEvent;
import net.minecraftforge.fml.common.eventhandler.SubscribeEvent;

import java.io.IOException;

public class ConfigLoader {
    boolean isLoaded = false;
    @SubscribeEvent
    public void onRender(RenderGameOverlayEvent.Post e){
        if(!isLoaded){
            try {
                ConfigManager.loadFromCfg();
                ChatUtils.sendMessage("The config was successfully loaded.");
            } catch (IOException ex) {
                ChatUtils.sendMessage("Failed to load the config.");
                throw new RuntimeException(ex);
            }
            isLoaded = true;
        }
    }
}
