package hedgegod.bbra.bbraexploit.Module.CLIENT;

import hedgegod.bbra.bbraexploit.Client;
import hedgegod.bbra.bbraexploit.Module.Module;
import org.lwjgl.input.Keyboard;

import java.util.Objects;
import java.util.concurrent.CopyOnWriteArrayList;

public class Unload extends Module {
    public Unload(){
        super("Unload", Keyboard.KEY_NONE, Category.CLIENT);
    }

    private static final CopyOnWriteArrayList<String> backUp = new CopyOnWriteArrayList<String>();

    @Override
    public void onEnable(){
        for (Module m : Client.modules){
            if(!(m instanceof Unload) && m.isEnabled()){
                backUp.add(m.name);
                m.setToggled(false);
            }
        }
    }

    @Override
    public void onDisable(){
        for(Module m : Client.modules){
            for(String n : backUp){
                if (Objects.equals(m.name, n)){
                    m.setToggled(true);
                }
            }
        }
        backUp.clear();
    }
}
