package hedgegod.bbra.bbraexploit.Module.RENDER;

import hedgegod.bbra.bbraexploit.BBraExploit;
import hedgegod.bbra.bbraexploit.Module.Module;
import net.minecraftforge.fml.common.eventhandler.SubscribeEvent;
import net.minecraftforge.fml.common.gameevent.TickEvent;
import org.lwjgl.input.Keyboard;
import yea.hedgegod.clickgui.Setting;

public class CustomFOV extends Module {
    public CustomFOV(){
        super("Custom FOV", Keyboard.KEY_NONE,Category.RENDER);

        BBraExploit.instance.sManager.rSetting(new Setting("FOV", this, 30, 15, 180, true));
    }
    private float oldFOV;

    @SubscribeEvent
    public void onPlayerTick(TickEvent.PlayerTickEvent e){
        this.oldFOV = mc.gameSettings.fovSetting;
        mc.gameSettings.fovSetting = (int)BBraExploit.instance.sManager.getSettingByName(this.name, "FOV").getValDouble();
        if (!this.toggled){
            mc.gameSettings.fovSetting = oldFOV;
        }
    }

    @Override
    public void onDisable(){
        mc.gameSettings.fovSetting = this.oldFOV;
    }
}
