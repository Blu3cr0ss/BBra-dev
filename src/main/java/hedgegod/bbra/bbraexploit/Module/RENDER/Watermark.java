package hedgegod.bbra.bbraexploit.Module.RENDER;

import hedgegod.bbra.bbraexploit.BBraExploit;
import hedgegod.bbra.bbraexploit.Module.Module;
import net.minecraft.client.Minecraft;
import net.minecraft.client.gui.FontRenderer;
import net.minecraft.client.gui.ScaledResolution;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraftforge.client.event.RenderGameOverlayEvent;
import net.minecraftforge.fml.common.eventhandler.SubscribeEvent;

import java.text.DecimalFormat;

import org.lwjgl.input.Keyboard;

public class Watermark extends Module {
    Minecraft mc = Minecraft.getMinecraft();
    FontRenderer fr = mc.fontRenderer;
    ScaledResolution sr = new ScaledResolution(mc);
    public Watermark(){
        super ("Watermark", Keyboard.KEY_GRAVE, Category.RENDER);
    }

    @SubscribeEvent
    public void onRender(RenderGameOverlayEvent.Post e){
        int countPlayers = 0;
        for(EntityPlayer playerEntity : mc.world.playerEntities){
            countPlayers++;
        }
        boolean showFPS = true;
        boolean showPlayers = true;
        boolean showCords = true;
        DecimalFormat df = new DecimalFormat("#.#");
        String cords = df.format(mc.player.posX) + " " + df.format(mc.player.posY) + " " +df.format(mc.player.posZ);
        switch (e.getType()){
            case TEXT:
                if(toggled){
                    fr.drawString("§5BBra Exploit §e" + BBraExploit.VERSION,3, 3, -1);
                    if(showFPS) {
                        fr.drawString("§5FPS: §e" + Minecraft.getDebugFPS(), 3, 13, -1);
                    }
                    if(showPlayers){
                        fr.drawString("§5Players Nearby: §e" + (countPlayers-1), 3, 23,-1);
                    }
                    if(showCords) {
                    	fr.drawString("§5Cords: §e" + cords, 3, 33 , -1);
                    }

                }
            default:
                break;
        }

    }
}
