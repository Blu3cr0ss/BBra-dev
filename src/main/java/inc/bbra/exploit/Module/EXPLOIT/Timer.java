package inc.bbra.exploit.Module.EXPLOIT;

import inc.bbra.exploit.Module.Module;
import net.minecraft.client.Minecraft;
import org.lwjgl.input.Keyboard;

import java.lang.reflect.Field;

public class Timer extends Module {
    public Timer() {
        super("Timer", Keyboard.KEY_NONE, Category.EXPLOIT);
    }

    @Override
    public void onEnable() {

        setTickLength(50F / (3));
    }

    @Override
    public void onDisable() {
        setTickLength(50F / (1));
    }

    public static void setTickLength(float tickLength) {
        try {
            Field fTimer = Minecraft.getMinecraft().getClass().getDeclaredField("field_71428_T");
            fTimer.setAccessible(true);
            Field fTickLength = net.minecraft.util.Timer.class.getDeclaredField("field_194149_e");
            fTickLength.setAccessible(true);
            fTickLength.setFloat(fTimer.get(Minecraft.getMinecraft()), tickLength);
        } catch (NoSuchFieldException | IllegalAccessException e) {
            e.printStackTrace();
        }
    }
}