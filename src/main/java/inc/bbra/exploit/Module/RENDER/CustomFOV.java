package inc.bbra.exploit.Module.RENDER;

import inc.bbra.exploit.BBraExploit;
import inc.bbra.exploit.Module.Module;
import inc.bbra.exploit.clickgui.modules.settings.IntSetting;
import net.minecraftforge.fml.common.eventhandler.SubscribeEvent;
import net.minecraftforge.fml.common.gameevent.TickEvent;
import org.lwjgl.input.Keyboard;
import inc.bbra.newclickgui.Setting;

import java.io.IOException;

public class CustomFOV extends Module {
    IntSetting fov = new IntSetting(this, "FOV", 90, 10, 180);

    public CustomFOV() {
        super("Custom FOV", Keyboard.KEY_NONE, Category.RENDER);
    }

    private float oldFOV;

    @SubscribeEvent
    public void onPlayerTick(TickEvent.PlayerTickEvent e) {
        this.oldFOV = mc.gameSettings.fovSetting;
        mc.gameSettings.fovSetting = fov.getVal();
    }

    @Override
    public void onDisable() throws IOException {
        mc.gameSettings.fovSetting = this.oldFOV;
        super.onDisable();
    }
}
