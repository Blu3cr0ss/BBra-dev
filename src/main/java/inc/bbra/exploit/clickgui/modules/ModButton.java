package inc.bbra.exploit.clickgui.modules;

import inc.bbra.exploit.Module.Module;
import inc.bbra.exploit.clickgui.GUI;
import inc.bbra.exploit.clickgui.UtilGui;
import net.minecraft.client.Minecraft;
import net.minecraft.client.gui.Gui;

import java.awt.*;
import java.io.IOException;

public class ModButton {
    public int x, y;
    public int w = 90;
    public int h = 20;
    public Module m;
    Minecraft mc = Minecraft.getMinecraft( );
    private int nameW;
    private int nameH;

    public ModCategory parentCategory;

    public ModButton(int x, int y, Module m) {
//        this.x = x;
//        this.y = y;
////        this.w = w;
////        this.h = h;
//        this.m = m;
//        this.nameW = mc.fontRenderer.getStringWidth(m.name);
//        this.nameH = mc.fontRenderer.FONT_HEIGHT;
        for (ModCategory i : GUI.getINSTANCE().getCategoryList( )){
            if (i.category == m.category) {
                this.parentCategory = i;
            }
        }
    }

    public void updPos(int x,int y){
        try {
            this.x = x;
            this.y = y;
        }catch (Exception e) {

        }
    }

    public void draw() {
        try {
            if (parentCategory.deployed) {
                Gui.drawRect(x, y, x + w, y + h, getColor( ));
                //////// Borders
                Gui.drawRect(x - 1, y, x, y + h, getBorderColor( ));//left
                Gui.drawRect(x + w, y, x + w + 1, y + h, getBorderColor( ));//right
                Gui.drawRect(x, y + 1, x + w, y, getBorderColor( ));//top
                Gui.drawRect(x, y + h, x + w, y + h + 1, getBorderColor( ));//bottom
                //////Text
                mc.fontRenderer.drawString(m.name, x + 5, y + 5, Color.WHITE.hashCode( ));
            }
        } catch (Exception e) {

        }
    }

    private int getColor() {
        if (m.isEnabled( ))
            return new Color(82, 82, 82, 100).hashCode( );
        else
            return new Color(166, 30, 20, 100).hashCode( );
    }

    private int getBorderColor() {
        if (m.isEnabled( ))
            return Color.green.hashCode( );
        else
            return Color.red.hashCode( );
    }


    public void onClick(int mouseX, int mouseY, int button) throws IOException {
        if (UtilGui.isClicked(mouseX, mouseY, button,x,y,w,h, UtilGui.MOUSEBUTTON.LEFT)) {
            m.toggle( );
        }
    }
}
