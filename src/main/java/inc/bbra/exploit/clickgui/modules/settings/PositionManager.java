package inc.bbra.exploit.clickgui.modules.settings;

import inc.bbra.exploit.clickgui.modules.ModButton;

public class PositionManager {
    int margin = 2;
    int settingsCount = 0;
//    public static int pageMargin = 0;

    public static PositionManager INSTANCE = new PositionManager( );

    public void doRenderCalc(ModButton i) {
        try {
            //////////////////
//            for (ModCategory j : GUI.INSTANCE.getCategoryList( )) {
//                for (ModButton i : j.buttons) {
            if (i.m.isDeployed && i.parentCategoryDeployed) {
                for (PageSetting page : i.m.pages) {
                    page.x = i.x + 3;
                    page.y = i.y + i.h + margin + 1 + 5;
                    if (i.m.pages.indexOf(page) == i.m.pageSeenRN) {
                        page.draw( );
                    }
                }

                for (SettingAbstract setting : i.m.settings) {
                    if (setting.page == null) {
                        setting.x = i.x + 3;
                        if (i.m.havePages) {
                            setting.y = i.y + i.h + margin + 1 + (settingsCount * setting.h) + i.m.pages.get(i.m.pageSeenRN).pageMargin;
                        } else {
                            setting.y = i.y + i.h + margin + 1 + (settingsCount * setting.h);
                        }
                        if (i.m.havePages) {
                            setting.y += i.m.pages.get(0).h + margin;
                        }
                        setting.draw( );
                        settingsCount += 1;
                    }
                }

                if (!i.m.settings.isEmpty( )) {
                    i.settingsHeight = (settingsCount * i.m.settings.get(0).h) + (i.m.settings.size( ) * margin) + margin*3;
                    if (i.m.havePages) {
                        i.settingsHeight += (i.m.pages.get(i.m.pageSeenRN).pageMargin);
                    }else{
                        i.settingsHeight -= (i.m.settings.size( ) * margin);
                    }
                }
                settingsCount = 0;
//                        pageMargin = 0;
            }
//                }
//            }
            //////////////////// Settings block calc

        } catch (Exception ex) {
            ex.printStackTrace( );
        }
    }
}